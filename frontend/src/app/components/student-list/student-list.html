<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>ğŸ‘¥ Students</h2>
    <button class="btn btn-primary" (click)="addStudent()">
      <i class="bi bi-plus-circle"></i> Add Student
    </button>
  </div>

  <!-- Loading State -->
  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
    <p class="mt-2">Loading students...</p>
  </div>

  <!-- Error State -->
  <div *ngIf="error && !loading" class="alert alert-danger">
    {{ error }}
  </div>

  <!-- Success State -->
  <div *ngIf="!loading && !error">
    <div *ngIf="students.length === 0" class="alert alert-info">
      No students found. Add your first student!
    </div>

    <div *ngIf="students.length > 0" class="card">
      <div class="card-header">
        <h5 class="mb-0">Student List ({{ students.length }})</h5>
      </div>
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead>
            <tr>
              <th>Student ID</th>
              <th>Name</th>
              <th>Email</th>
              <th>Class</th>
              <th>Date of Birth</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let student of students">
              <td><strong>{{ student.student_id }}</strong></td>
              <td>{{ student.first_name }} {{ student.last_name }}</td>
              <td>{{ student.email }}</td>
              <td><span class="badge bg-info">{{ student.class_name }}</span></td>
              <td>{{ student.date_of_birth | date:'mediumDate' }}</td>
              <td>
                <button class="btn btn-sm btn-warning me-2" (click)="editStudent(student.id!)">
                  <i class="bi bi-pencil"></i> Edit
                </button>
                <button class="btn btn-sm btn-danger" (click)="deleteStudent(student.id!)">
                  <i class="bi bi-trash"></i> Delete
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="card-footer text-muted">
        Total: {{ students.length }} student(s)
      </div>
    </div>
  </div>
</div>